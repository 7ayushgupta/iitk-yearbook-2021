<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Yearbook Memoirs</title>
    <link rel="stylesheet" href="css/style.css">
</head>
<body>
    <!-- Login Bar -->
    <div id="loginBar" class="login-bar">
        <div class="login-container">
            <div class="login-header">
                <h1>IITK Year 2021 Yearbook</h1>
                <p class="login-subtitle">Enter your username as in IITK (username@iitk.ac.in)</p>
            </div>
            <div class="login-form">
                <label for="usernameInput">IITK Username</label>
                <input 
                    type="text" 
                    id="usernameInput" 
                    placeholder="Enter your username..."
                    class="username-input"
                >
                <button id="loginButton" class="login-button">Login</button>
            </div>
            <p class="login-note">Note: Only usernames in/before Y17 batch would work</p>
            <div id="loginError" class="login-error" style="display: none;"></div>
        </div>
    </div>

    <!-- Authenticated Content -->
    <div id="authenticatedContent" class="container" style="display: none;">
        <header>
            <h1 id="pageTitle">Yearbook Memoirs</h1>
            <p class="subtitle" id="pageSubtitle">Explore the collection of memoirs</p>
            <div style="margin-top: 20px; display: flex; justify-content: center; gap: 10px; flex-wrap: wrap;">
                <a href="summary.html" class="back-link">üìä View Statistics</a>
                <a href="graph.html" class="back-link">üï∏Ô∏è Social Graph</a>
                <div id="backToAll" style="display: none;">
                    <a href="?" class="back-link">‚Üê Back to All Memoirs</a>
                </div>
                <button id="logoutButton" class="logout-button">Logout</button>
            </div>
        </header>

        <div class="controls">
            <div class="search-container">
                <input 
                    type="text" 
                    id="searchInput" 
                    placeholder="Search by author, recipient, or text content..."
                    class="search-input"
                >
            </div>
            <div class="filter-container">
                <select id="filterAuthor" class="filter-select">
                    <option value="">All Authors</option>
                </select>
                <select id="filterRecipient" class="filter-select">
                    <option value="">All Recipients</option>
                </select>
            </div>
            <div class="visibility-toggle-container">
                <button id="togglePublic" class="toggle-btn active">Public</button>
                <button id="togglePrivate" class="toggle-btn">Private</button>
            </div>
            <div id="userPageToggle" class="user-toggle-container" style="display: none;">
                <button id="toggleReceived" class="toggle-btn active">Received</button>
                <button id="toggleWritten" class="toggle-btn">Written</button>
            </div>
            <div class="stats">
                <span id="resultCount">Loading...</span>
            </div>
        </div>

        <div id="loadingMessage" class="loading">Loading memoirs...</div>
        <div id="errorMessage" class="error" style="display: none;"></div>

        <div id="confessionsContainer" class="confessions-grid"></div>

        <div id="pagination" class="pagination"></div>
    </div>

    <!-- Footer -->
    <footer class="page-footer">
        <div class="footer-content">
            <span class="footer-text">Share with your friends:</span>
            <button id="copyLinkBtn" class="copy-link-btn" title="Copy link">
                <span class="copy-icon">üîó</span>
                <span class="copy-text">Copy link</span>
            </button>
        </div>
    </footer>

    <!-- PapaParse library from CDN -->
    <script src="https://cdn.jsdelivr.net/npm/papaparse@5.4.1/papaparse.min.js"></script>
    <script src="js/app.js"></script>
</body>
</html>

